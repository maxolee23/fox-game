{"id":"Oo4C","dependencies":[{"name":"/Users/maxlee/fox-game/package.json","includedInParent":true,"mtime":1607294941691},{"name":"./constants","loc":{"line":9,"column":7},"parent":"/Users/maxlee/fox-game/src/gameState.js","resolved":"/Users/maxlee/fox-game/src/constants.js"},{"name":"./ui","loc":{"line":10,"column":60},"parent":"/Users/maxlee/fox-game/src/gameState.js","resolved":"/Users/maxlee/fox-game/src/ui.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=exports.handleUserAction=void 0;var e=require(\"./constants\"),t=require(\"./ui\");const i={current:\"INIT\",clock:1,wakeTime:-1,sleepTime:-1,hungryTime:-1,dieTime:-1,poopTime:-1,timeToStartCelebrating:-1,timeToEndCelebrating:-1,scene:0,tick(){return this.clock++,this.clock===this.wakeTime?this.wake():this.clock===this.sleepTime?this.sleep():this.clock===this.hungryTime?this.getHungry():this.clock===this.timeToStartCelebrating?this.startCelebrating():this.clock===this.timeToEndCelebrating?this.endCelebrating():this.clock===this.poopTime?this.poop():this.clock===this.dieTime&&this.die(),this.clock},startGame(){this.current=\"HATCHING\",this.wakeTime=this.clock+3,(0,t.modFox)(\"egg\"),(0,t.modScene)(\"day\"),(0,t.writeModal)()},wake(){this.current=\"IDLING\",this.wakeTime=-1,(0,t.modFox)(\"idling\"),this.scene=Math.random()>e.RAIN_CHANCE?0:1,(0,t.modScene)(e.SCENES[this.scene]),this.determineFoxState(),this.sleepTime=this.clock+e.DAY_LENGTH,this.hungryTime=(0,e.getNextHungerTime)(this.clock)},handleUserAction(e){if(![\"SLEEP\",\"FEEDING\",\"CELEBRATING\",\"HATCHING\"].includes(this.current))if(\"INIT\"!==this.current&&\"DEAD\"!==this.current)switch(e){case\"weather\":this.changeWeather();break;case\"poop\":this.cleanUpPoop();break;case\"fish\":this.feed()}else this.startGame()},changeWeather(){this.scene=(1+this.scene)%e.SCENES.length,(0,t.modScene)(e.SCENES[this.scene]),this.determineFoxState()},cleanUpPoop(){\"POOPING\"===this.current&&(this.dieTime=-1,(0,t.togglePoopBag)(!0),this.startCelebrating(),this.hungryTime=(0,e.getNextHungerTime)(this.clock))},poop(){this.current=\"POOPING\",this.poopTime=-1,this.dieTime=(0,e.getNextDieTime)(this.clock),(0,t.modFox)(\"pooping\")},feed(){\"HUNGRY\"===this.current&&(this.current=\"FEEDING\",this.dieTime=-1,this.poopTime=(0,e.getNextPoopTime)(this.clock),(0,t.modFox)(\"eating\"),this.timeToStartCelebrating=this.clock+2)},startCelebrating(){this.current=\"CELEBRATING\",(0,t.modFox)(\"celebrate\"),this.timeToStartCelebrating=-1,this.timeToEndCelebrating=this.clock+2},endCelebrating(){this.timeToEndCelebrating=-1,this.current=\"IDLING\",this.determineFoxState(),(0,t.togglePoopBag)(!1)},determineFoxState(){\"IDLING\"===this.current&&(\"rain\"===e.SCENES[this.scene]?(0,t.modFox)(\"rain\"):(0,t.modFox)(\"idling\"))},clearTimes(){this.wakeTime=-1,this.sleepTime=-1,this.hungryTime=-1,this.dieTime=-1,this.poopTime=-1,this.timeToStartCelebrating=-1,this.timeToEndCelebrating=-1},sleep(){this.current=\"SLEEP\",(0,t.modFox)(\"sleep\"),(0,t.modScene)(\"night\"),this.clearTimes(),this.wakeTime=this.clock+e.NIGHT_LENGTH},getHungry(){this.current=\"HUNGRY\",this.dieTime=(0,e.getNextDieTime)(this.clock),this.hungryTime=-1,(0,t.modFox)(\"hungry\")},die(){this.current=\"DEAD\",(0,t.modScene)(\"dead\"),(0,t.modFox)(\"dead\"),this.clearTimes(),(0,t.writeModal)(\"The fox died :( <br/> Press the middle button to restart\")}},s=i.handleUserAction.bind(i);exports.handleUserAction=s;var h=i;exports.default=h;"},"sourceMaps":{"js":{"mappings":[{"source":"gameState.js","name":"gameState","original":{"line":171,"column":15},"generated":{"line":1,"column":0}},{"source":"gameState.js","name":"gameState","original":{"line":171,"column":15},"generated":{"line":1,"column":13}},{"source":"gameState.js","name":"gameState","original":{"line":171,"column":15},"generated":{"line":1,"column":20}},{"source":"gameState.js","name":"gameState","original":{"line":171,"column":15},"generated":{"line":1,"column":35}},{"source":"gameState.js","name":"gameState","original":{"line":171,"column":15},"generated":{"line":1,"column":43}},{"source":"gameState.js","name":"gameState","original":{"line":171,"column":15},"generated":{"line":1,"column":56}},{"source":"gameState.js","name":"gameState","original":{"line":171,"column":15},"generated":{"line":1,"column":57}},{"source":"gameState.js","name":"gameState","original":{"line":171,"column":15},"generated":{"line":1,"column":64}},{"source":"gameState.js","name":"gameState","original":{"line":171,"column":15},"generated":{"line":1,"column":68}},{"source":"gameState.js","name":"gameState","original":{"line":171,"column":15},"generated":{"line":1,"column":76}},{"source":"gameState.js","name":"gameState","original":{"line":171,"column":15},"generated":{"line":1,"column":84}},{"source":"gameState.js","name":"gameState","original":{"line":171,"column":15},"generated":{"line":1,"column":92}},{"source":"gameState.js","name":"gameState","original":{"line":171,"column":15},"generated":{"line":1,"column":114}},{"source":"gameState.js","original":{"line":1,"column":0},"generated":{"line":1,"column":116}},{"source":"gameState.js","original":{"line":1,"column":0},"generated":{"line":1,"column":120}},{"source":"gameState.js","original":{"line":1,"column":0},"generated":{"line":1,"column":122}},{"source":"gameState.js","original":{"line":1,"column":0},"generated":{"line":1,"column":130}},{"source":"gameState.js","original":{"line":10,"column":0},"generated":{"line":1,"column":145}},{"source":"gameState.js","original":{"line":10,"column":0},"generated":{"line":1,"column":147}},{"source":"gameState.js","original":{"line":10,"column":0},"generated":{"line":1,"column":155}},{"source":"gameState.js","original":{"line":12,"column":0},"generated":{"line":1,"column":163}},{"source":"gameState.js","name":"gameState","original":{"line":12,"column":6},"generated":{"line":1,"column":169}},{"source":"gameState.js","original":{"line":12,"column":18},"generated":{"line":1,"column":171}},{"source":"gameState.js","name":"current","original":{"line":13,"column":2},"generated":{"line":1,"column":172}},{"source":"gameState.js","original":{"line":13,"column":11},"generated":{"line":1,"column":180}},{"source":"gameState.js","name":"clock","original":{"line":14,"column":2},"generated":{"line":1,"column":187}},{"source":"gameState.js","original":{"line":14,"column":9},"generated":{"line":1,"column":193}},{"source":"gameState.js","name":"wakeTime","original":{"line":15,"column":2},"generated":{"line":1,"column":195}},{"source":"gameState.js","original":{"line":15,"column":13},"generated":{"line":1,"column":205}},{"source":"gameState.js","name":"sleepTime","original":{"line":16,"column":2},"generated":{"line":1,"column":207}},{"source":"gameState.js","original":{"line":16,"column":14},"generated":{"line":1,"column":218}},{"source":"gameState.js","name":"hungryTime","original":{"line":17,"column":2},"generated":{"line":1,"column":220}},{"source":"gameState.js","original":{"line":17,"column":15},"generated":{"line":1,"column":232}},{"source":"gameState.js","name":"dieTime","original":{"line":18,"column":2},"generated":{"line":1,"column":234}},{"source":"gameState.js","original":{"line":18,"column":12},"generated":{"line":1,"column":243}},{"source":"gameState.js","name":"poopTime","original":{"line":19,"column":2},"generated":{"line":1,"column":245}},{"source":"gameState.js","original":{"line":19,"column":13},"generated":{"line":1,"column":255}},{"source":"gameState.js","name":"timeToStartCelebrating","original":{"line":20,"column":2},"generated":{"line":1,"column":257}},{"source":"gameState.js","original":{"line":20,"column":27},"generated":{"line":1,"column":281}},{"source":"gameState.js","name":"timeToEndCelebrating","original":{"line":21,"column":2},"generated":{"line":1,"column":283}},{"source":"gameState.js","original":{"line":21,"column":25},"generated":{"line":1,"column":305}},{"source":"gameState.js","name":"scene","original":{"line":22,"column":2},"generated":{"line":1,"column":307}},{"source":"gameState.js","original":{"line":22,"column":9},"generated":{"line":1,"column":313}},{"source":"gameState.js","name":"tick","original":{"line":23,"column":2},"generated":{"line":1,"column":315}},{"source":"gameState.js","original":{"line":41,"column":11},"generated":{"line":1,"column":322}},{"source":"gameState.js","name":"clock","original":{"line":24,"column":9},"generated":{"line":1,"column":329}},{"source":"gameState.js","name":"clock","original":{"line":24,"column":9},"generated":{"line":1,"column":334}},{"source":"gameState.js","original":{"line":25,"column":8},"generated":{"line":1,"column":342}},{"source":"gameState.js","name":"clock","original":{"line":25,"column":13},"generated":{"line":1,"column":347}},{"source":"gameState.js","original":{"line":25,"column":23},"generated":{"line":1,"column":355}},{"source":"gameState.js","name":"wakeTime","original":{"line":25,"column":28},"generated":{"line":1,"column":360}},{"source":"gameState.js","name":"wake","original":{"line":26,"column":11},"generated":{"line":1,"column":369}},{"source":"gameState.js","name":"wake","original":{"line":26,"column":11},"generated":{"line":1,"column":374}},{"source":"gameState.js","original":{"line":27,"column":15},"generated":{"line":1,"column":381}},{"source":"gameState.js","name":"clock","original":{"line":27,"column":20},"generated":{"line":1,"column":386}},{"source":"gameState.js","original":{"line":27,"column":30},"generated":{"line":1,"column":394}},{"source":"gameState.js","name":"sleepTime","original":{"line":27,"column":35},"generated":{"line":1,"column":399}},{"source":"gameState.js","name":"sleep","original":{"line":28,"column":11},"generated":{"line":1,"column":409}},{"source":"gameState.js","name":"sleep","original":{"line":28,"column":11},"generated":{"line":1,"column":414}},{"source":"gameState.js","original":{"line":29,"column":15},"generated":{"line":1,"column":422}},{"source":"gameState.js","name":"clock","original":{"line":29,"column":20},"generated":{"line":1,"column":427}},{"source":"gameState.js","original":{"line":29,"column":30},"generated":{"line":1,"column":435}},{"source":"gameState.js","name":"hungryTime","original":{"line":29,"column":35},"generated":{"line":1,"column":440}},{"source":"gameState.js","name":"getHungry","original":{"line":30,"column":11},"generated":{"line":1,"column":451}},{"source":"gameState.js","name":"getHungry","original":{"line":30,"column":11},"generated":{"line":1,"column":456}},{"source":"gameState.js","original":{"line":31,"column":15},"generated":{"line":1,"column":468}},{"source":"gameState.js","name":"clock","original":{"line":31,"column":20},"generated":{"line":1,"column":473}},{"source":"gameState.js","original":{"line":31,"column":30},"generated":{"line":1,"column":481}},{"source":"gameState.js","name":"timeToStartCelebrating","original":{"line":31,"column":35},"generated":{"line":1,"column":486}},{"source":"gameState.js","name":"startCelebrating","original":{"line":32,"column":11},"generated":{"line":1,"column":509}},{"source":"gameState.js","name":"startCelebrating","original":{"line":32,"column":11},"generated":{"line":1,"column":514}},{"source":"gameState.js","original":{"line":33,"column":15},"generated":{"line":1,"column":533}},{"source":"gameState.js","name":"clock","original":{"line":33,"column":20},"generated":{"line":1,"column":538}},{"source":"gameState.js","original":{"line":33,"column":30},"generated":{"line":1,"column":546}},{"source":"gameState.js","name":"timeToEndCelebrating","original":{"line":33,"column":35},"generated":{"line":1,"column":551}},{"source":"gameState.js","name":"endCelebrating","original":{"line":34,"column":11},"generated":{"line":1,"column":572}},{"source":"gameState.js","name":"endCelebrating","original":{"line":34,"column":11},"generated":{"line":1,"column":577}},{"source":"gameState.js","original":{"line":35,"column":15},"generated":{"line":1,"column":594}},{"source":"gameState.js","name":"clock","original":{"line":35,"column":20},"generated":{"line":1,"column":599}},{"source":"gameState.js","original":{"line":35,"column":30},"generated":{"line":1,"column":607}},{"source":"gameState.js","name":"poopTime","original":{"line":35,"column":35},"generated":{"line":1,"column":612}},{"source":"gameState.js","name":"poop","original":{"line":36,"column":11},"generated":{"line":1,"column":621}},{"source":"gameState.js","name":"poop","original":{"line":36,"column":11},"generated":{"line":1,"column":626}},{"source":"gameState.js","original":{"line":37,"column":15},"generated":{"line":1,"column":633}},{"source":"gameState.js","name":"clock","original":{"line":37,"column":20},"generated":{"line":1,"column":638}},{"source":"gameState.js","original":{"line":37,"column":30},"generated":{"line":1,"column":646}},{"source":"gameState.js","name":"dieTime","original":{"line":37,"column":35},"generated":{"line":1,"column":651}},{"source":"gameState.js","name":"die","original":{"line":38,"column":11},"generated":{"line":1,"column":660}},{"source":"gameState.js","name":"die","original":{"line":38,"column":11},"generated":{"line":1,"column":665}},{"source":"gameState.js","original":{"line":41,"column":11},"generated":{"line":1,"column":671}},{"source":"gameState.js","name":"clock","original":{"line":41,"column":16},"generated":{"line":1,"column":676}},{"source":"gameState.js","name":"startGame","original":{"line":43,"column":2},"generated":{"line":1,"column":683}},{"source":"gameState.js","name":"current","original":{"line":44,"column":9},"generated":{"line":1,"column":695}},{"source":"gameState.js","name":"current","original":{"line":44,"column":9},"generated":{"line":1,"column":700}},{"source":"gameState.js","original":{"line":44,"column":19},"generated":{"line":1,"column":708}},{"source":"gameState.js","name":"wakeTime","original":{"line":45,"column":9},"generated":{"line":1,"column":719}},{"source":"gameState.js","name":"wakeTime","original":{"line":45,"column":9},"generated":{"line":1,"column":724}},{"source":"gameState.js","original":{"line":45,"column":20},"generated":{"line":1,"column":733}},{"source":"gameState.js","name":"clock","original":{"line":45,"column":25},"generated":{"line":1,"column":738}},{"source":"gameState.js","original":{"line":45,"column":33},"generated":{"line":1,"column":744}},{"source":"gameState.js","original":{"line":46,"column":11},"generated":{"line":1,"column":747}},{"source":"gameState.js","original":{"line":46,"column":11},"generated":{"line":1,"column":749}},{"source":"gameState.js","original":{"line":46,"column":11},"generated":{"line":1,"column":751}},{"source":"gameState.js","original":{"line":46,"column":11},"generated":{"line":1,"column":759}},{"source":"gameState.js","original":{"line":47,"column":13},"generated":{"line":1,"column":767}},{"source":"gameState.js","original":{"line":47,"column":13},"generated":{"line":1,"column":769}},{"source":"gameState.js","original":{"line":47,"column":13},"generated":{"line":1,"column":771}},{"source":"gameState.js","original":{"line":47,"column":13},"generated":{"line":1,"column":781}},{"source":"gameState.js","original":{"line":48,"column":4},"generated":{"line":1,"column":789}},{"source":"gameState.js","original":{"line":48,"column":4},"generated":{"line":1,"column":791}},{"source":"gameState.js","original":{"line":48,"column":4},"generated":{"line":1,"column":793}},{"source":"gameState.js","name":"wake","original":{"line":50,"column":2},"generated":{"line":1,"column":808}},{"source":"gameState.js","name":"current","original":{"line":51,"column":9},"generated":{"line":1,"column":815}},{"source":"gameState.js","name":"current","original":{"line":51,"column":9},"generated":{"line":1,"column":820}},{"source":"gameState.js","original":{"line":51,"column":19},"generated":{"line":1,"column":828}},{"source":"gameState.js","name":"wakeTime","original":{"line":52,"column":9},"generated":{"line":1,"column":837}},{"source":"gameState.js","name":"wakeTime","original":{"line":52,"column":9},"generated":{"line":1,"column":842}},{"source":"gameState.js","original":{"line":52,"column":21},"generated":{"line":1,"column":852}},{"source":"gameState.js","original":{"line":53,"column":11},"generated":{"line":1,"column":855}},{"source":"gameState.js","original":{"line":53,"column":11},"generated":{"line":1,"column":857}},{"source":"gameState.js","original":{"line":53,"column":11},"generated":{"line":1,"column":859}},{"source":"gameState.js","original":{"line":53,"column":11},"generated":{"line":1,"column":867}},{"source":"gameState.js","name":"scene","original":{"line":54,"column":9},"generated":{"line":1,"column":877}},{"source":"gameState.js","name":"scene","original":{"line":54,"column":9},"generated":{"line":1,"column":882}},{"source":"gameState.js","name":"Math","original":{"line":54,"column":17},"generated":{"line":1,"column":888}},{"source":"gameState.js","name":"random","original":{"line":54,"column":22},"generated":{"line":1,"column":893}},{"source":"gameState.js","name":"RAIN_CHANCE","original":{"line":54,"column":33},"generated":{"line":1,"column":902}},{"source":"gameState.js","original":{"line":54,"column":17},"generated":{"line":1,"column":904}},{"source":"gameState.js","original":{"line":54,"column":47},"generated":{"line":1,"column":916}},{"source":"gameState.js","original":{"line":54,"column":51},"generated":{"line":1,"column":918}},{"source":"gameState.js","name":"SCENES","original":{"line":55,"column":13},"generated":{"line":1,"column":921}},{"source":"gameState.js","name":"SCENES","original":{"line":55,"column":13},"generated":{"line":1,"column":923}},{"source":"gameState.js","name":"SCENES","original":{"line":55,"column":13},"generated":{"line":1,"column":925}},{"source":"gameState.js","name":"SCENES","original":{"line":55,"column":13},"generated":{"line":1,"column":935}},{"source":"gameState.js","original":{"line":55,"column":20},"generated":{"line":1,"column":937}},{"source":"gameState.js","original":{"line":55,"column":20},"generated":{"line":1,"column":944}},{"source":"gameState.js","name":"scene","original":{"line":55,"column":25},"generated":{"line":1,"column":949}},{"source":"gameState.js","name":"determineFoxState","original":{"line":56,"column":9},"generated":{"line":1,"column":957}},{"source":"gameState.js","name":"determineFoxState","original":{"line":56,"column":9},"generated":{"line":1,"column":962}},{"source":"gameState.js","name":"sleepTime","original":{"line":57,"column":9},"generated":{"line":1,"column":982}},{"source":"gameState.js","name":"sleepTime","original":{"line":57,"column":9},"generated":{"line":1,"column":987}},{"source":"gameState.js","original":{"line":57,"column":21},"generated":{"line":1,"column":997}},{"source":"gameState.js","name":"clock","original":{"line":57,"column":26},"generated":{"line":1,"column":1002}},{"source":"gameState.js","name":"DAY_LENGTH","original":{"line":57,"column":34},"generated":{"line":1,"column":1008}},{"source":"gameState.js","original":{"line":57,"column":4},"generated":{"line":1,"column":1010}},{"source":"gameState.js","name":"hungryTime","original":{"line":58,"column":9},"generated":{"line":1,"column":1021}},{"source":"gameState.js","name":"hungryTime","original":{"line":58,"column":9},"generated":{"line":1,"column":1026}},{"source":"gameState.js","original":{"line":58,"column":22},"generated":{"line":1,"column":1038}},{"source":"gameState.js","original":{"line":58,"column":40},"generated":{"line":1,"column":1040}},{"source":"gameState.js","original":{"line":58,"column":40},"generated":{"line":1,"column":1042}},{"source":"gameState.js","original":{"line":58,"column":40},"generated":{"line":1,"column":1061}},{"source":"gameState.js","name":"clock","original":{"line":58,"column":45},"generated":{"line":1,"column":1066}},{"source":"gameState.js","name":"handleUserAction","original":{"line":60,"column":2},"generated":{"line":1,"column":1074}},{"source":"gameState.js","name":"icon","original":{"line":60,"column":19},"generated":{"line":1,"column":1091}},{"source":"gameState.js","original":{"line":63,"column":6},"generated":{"line":1,"column":1094}},{"source":"gameState.js","original":{"line":63,"column":6},"generated":{"line":1,"column":1098}},{"source":"gameState.js","original":{"line":63,"column":7},"generated":{"line":1,"column":1099}},{"source":"gameState.js","original":{"line":63,"column":16},"generated":{"line":1,"column":1107}},{"source":"gameState.js","original":{"line":63,"column":27},"generated":{"line":1,"column":1117}},{"source":"gameState.js","original":{"line":63,"column":42},"generated":{"line":1,"column":1131}},{"source":"gameState.js","name":"includes","original":{"line":63,"column":54},"generated":{"line":1,"column":1143}},{"source":"gameState.js","original":{"line":63,"column":63},"generated":{"line":1,"column":1152}},{"source":"gameState.js","name":"current","original":{"line":63,"column":68},"generated":{"line":1,"column":1157}},{"source":"gameState.js","original":{"line":69,"column":8},"generated":{"line":1,"column":1166}},{"source":"gameState.js","original":{"line":69,"column":25},"generated":{"line":1,"column":1169}},{"source":"gameState.js","original":{"line":69,"column":8},"generated":{"line":1,"column":1178}},{"source":"gameState.js","name":"current","original":{"line":69,"column":13},"generated":{"line":1,"column":1183}},{"source":"gameState.js","original":{"line":69,"column":52},"generated":{"line":1,"column":1192}},{"source":"gameState.js","original":{"line":69,"column":35},"generated":{"line":1,"column":1201}},{"source":"gameState.js","name":"current","original":{"line":69,"column":40},"generated":{"line":1,"column":1206}},{"source":"gameState.js","name":"icon","original":{"line":75,"column":12},"generated":{"line":1,"column":1214}},{"source":"gameState.js","name":"icon","original":{"line":75,"column":12},"generated":{"line":1,"column":1221}},{"source":"gameState.js","original":{"line":76,"column":11},"generated":{"line":1,"column":1224}},{"source":"gameState.js","original":{"line":76,"column":11},"generated":{"line":1,"column":1228}},{"source":"gameState.js","name":"changeWeather","original":{"line":77,"column":13},"generated":{"line":1,"column":1238}},{"source":"gameState.js","name":"changeWeather","original":{"line":77,"column":13},"generated":{"line":1,"column":1243}},{"source":"gameState.js","original":{"line":78,"column":8},"generated":{"line":1,"column":1259}},{"source":"gameState.js","original":{"line":79,"column":11},"generated":{"line":1,"column":1265}},{"source":"gameState.js","original":{"line":79,"column":11},"generated":{"line":1,"column":1269}},{"source":"gameState.js","name":"cleanUpPoop","original":{"line":80,"column":13},"generated":{"line":1,"column":1276}},{"source":"gameState.js","name":"cleanUpPoop","original":{"line":80,"column":13},"generated":{"line":1,"column":1281}},{"source":"gameState.js","original":{"line":81,"column":8},"generated":{"line":1,"column":1295}},{"source":"gameState.js","original":{"line":82,"column":11},"generated":{"line":1,"column":1301}},{"source":"gameState.js","original":{"line":82,"column":11},"generated":{"line":1,"column":1305}},{"source":"gameState.js","name":"feed","original":{"line":83,"column":13},"generated":{"line":1,"column":1312}},{"source":"gameState.js","name":"feed","original":{"line":83,"column":13},"generated":{"line":1,"column":1317}},{"source":"gameState.js","name":"startGame","original":{"line":70,"column":11},"generated":{"line":1,"column":1329}},{"source":"gameState.js","name":"startGame","original":{"line":70,"column":11},"generated":{"line":1,"column":1334}},{"source":"gameState.js","name":"changeWeather","original":{"line":87,"column":2},"generated":{"line":1,"column":1347}},{"source":"gameState.js","name":"scene","original":{"line":88,"column":9},"generated":{"line":1,"column":1363}},{"source":"gameState.js","name":"scene","original":{"line":88,"column":9},"generated":{"line":1,"column":1368}},{"source":"gameState.js","original":{"line":88,"column":18},"generated":{"line":1,"column":1375}},{"source":"gameState.js","original":{"line":88,"column":22},"generated":{"line":1,"column":1377}},{"source":"gameState.js","name":"scene","original":{"line":88,"column":27},"generated":{"line":1,"column":1382}},{"source":"gameState.js","name":"SCENES","original":{"line":88,"column":36},"generated":{"line":1,"column":1389}},{"source":"gameState.js","name":"length","original":{"line":88,"column":43},"generated":{"line":1,"column":1391}},{"source":"gameState.js","name":"length","original":{"line":88,"column":43},"generated":{"line":1,"column":1398}},{"source":"gameState.js","name":"SCENES","original":{"line":89,"column":13},"generated":{"line":1,"column":1406}},{"source":"gameState.js","name":"SCENES","original":{"line":89,"column":13},"generated":{"line":1,"column":1408}},{"source":"gameState.js","name":"SCENES","original":{"line":89,"column":13},"generated":{"line":1,"column":1410}},{"source":"gameState.js","name":"SCENES","original":{"line":89,"column":13},"generated":{"line":1,"column":1420}},{"source":"gameState.js","original":{"line":89,"column":20},"generated":{"line":1,"column":1422}},{"source":"gameState.js","original":{"line":89,"column":20},"generated":{"line":1,"column":1429}},{"source":"gameState.js","name":"scene","original":{"line":89,"column":25},"generated":{"line":1,"column":1434}},{"source":"gameState.js","name":"determineFoxState","original":{"line":90,"column":9},"generated":{"line":1,"column":1442}},{"source":"gameState.js","name":"determineFoxState","original":{"line":90,"column":9},"generated":{"line":1,"column":1447}},{"source":"gameState.js","name":"cleanUpPoop","original":{"line":92,"column":2},"generated":{"line":1,"column":1468}},{"source":"gameState.js","original":{"line":93,"column":25},"generated":{"line":1,"column":1482}},{"source":"gameState.js","original":{"line":93,"column":8},"generated":{"line":1,"column":1494}},{"source":"gameState.js","name":"current","original":{"line":93,"column":13},"generated":{"line":1,"column":1499}},{"source":"gameState.js","name":"dieTime","original":{"line":94,"column":11},"generated":{"line":1,"column":1509}},{"source":"gameState.js","name":"dieTime","original":{"line":94,"column":11},"generated":{"line":1,"column":1514}},{"source":"gameState.js","original":{"line":94,"column":22},"generated":{"line":1,"column":1523}},{"source":"gameState.js","original":{"line":95,"column":20},"generated":{"line":1,"column":1526}},{"source":"gameState.js","original":{"line":95,"column":20},"generated":{"line":1,"column":1528}},{"source":"gameState.js","original":{"line":95,"column":20},"generated":{"line":1,"column":1530}},{"source":"gameState.js","original":{"line":95,"column":20},"generated":{"line":1,"column":1546}},{"source":"gameState.js","name":"startCelebrating","original":{"line":96,"column":11},"generated":{"line":1,"column":1549}},{"source":"gameState.js","name":"startCelebrating","original":{"line":96,"column":11},"generated":{"line":1,"column":1554}},{"source":"gameState.js","name":"hungryTime","original":{"line":97,"column":11},"generated":{"line":1,"column":1573}},{"source":"gameState.js","name":"hungryTime","original":{"line":97,"column":11},"generated":{"line":1,"column":1578}},{"source":"gameState.js","original":{"line":97,"column":24},"generated":{"line":1,"column":1590}},{"source":"gameState.js","original":{"line":97,"column":42},"generated":{"line":1,"column":1592}},{"source":"gameState.js","original":{"line":97,"column":42},"generated":{"line":1,"column":1594}},{"source":"gameState.js","original":{"line":97,"column":42},"generated":{"line":1,"column":1613}},{"source":"gameState.js","name":"clock","original":{"line":97,"column":47},"generated":{"line":1,"column":1618}},{"source":"gameState.js","name":"poop","original":{"line":100,"column":2},"generated":{"line":1,"column":1627}},{"source":"gameState.js","name":"current","original":{"line":101,"column":9},"generated":{"line":1,"column":1634}},{"source":"gameState.js","name":"current","original":{"line":101,"column":9},"generated":{"line":1,"column":1639}},{"source":"gameState.js","original":{"line":101,"column":19},"generated":{"line":1,"column":1647}},{"source":"gameState.js","name":"poopTime","original":{"line":102,"column":9},"generated":{"line":1,"column":1657}},{"source":"gameState.js","name":"poopTime","original":{"line":102,"column":9},"generated":{"line":1,"column":1662}},{"source":"gameState.js","original":{"line":102,"column":21},"generated":{"line":1,"column":1672}},{"source":"gameState.js","name":"dieTime","original":{"line":103,"column":9},"generated":{"line":1,"column":1674}},{"source":"gameState.js","name":"dieTime","original":{"line":103,"column":9},"generated":{"line":1,"column":1679}},{"source":"gameState.js","original":{"line":103,"column":19},"generated":{"line":1,"column":1688}},{"source":"gameState.js","original":{"line":103,"column":34},"generated":{"line":1,"column":1690}},{"source":"gameState.js","original":{"line":103,"column":34},"generated":{"line":1,"column":1692}},{"source":"gameState.js","original":{"line":103,"column":34},"generated":{"line":1,"column":1708}},{"source":"gameState.js","name":"clock","original":{"line":103,"column":39},"generated":{"line":1,"column":1713}},{"source":"gameState.js","original":{"line":104,"column":11},"generated":{"line":1,"column":1721}},{"source":"gameState.js","original":{"line":104,"column":11},"generated":{"line":1,"column":1723}},{"source":"gameState.js","original":{"line":104,"column":11},"generated":{"line":1,"column":1725}},{"source":"gameState.js","original":{"line":104,"column":11},"generated":{"line":1,"column":1733}},{"source":"gameState.js","name":"feed","original":{"line":106,"column":2},"generated":{"line":1,"column":1745}},{"source":"gameState.js","original":{"line":108,"column":25},"generated":{"line":1,"column":1752}},{"source":"gameState.js","original":{"line":108,"column":8},"generated":{"line":1,"column":1763}},{"source":"gameState.js","name":"current","original":{"line":108,"column":13},"generated":{"line":1,"column":1768}},{"source":"gameState.js","name":"current","original":{"line":112,"column":9},"generated":{"line":1,"column":1778}},{"source":"gameState.js","name":"current","original":{"line":112,"column":9},"generated":{"line":1,"column":1783}},{"source":"gameState.js","original":{"line":112,"column":19},"generated":{"line":1,"column":1791}},{"source":"gameState.js","name":"dieTime","original":{"line":113,"column":9},"generated":{"line":1,"column":1801}},{"source":"gameState.js","name":"dieTime","original":{"line":113,"column":9},"generated":{"line":1,"column":1806}},{"source":"gameState.js","original":{"line":113,"column":20},"generated":{"line":1,"column":1815}},{"source":"gameState.js","name":"poopTime","original":{"line":114,"column":9},"generated":{"line":1,"column":1817}},{"source":"gameState.js","name":"poopTime","original":{"line":114,"column":9},"generated":{"line":1,"column":1822}},{"source":"gameState.js","original":{"line":114,"column":20},"generated":{"line":1,"column":1832}},{"source":"gameState.js","original":{"line":114,"column":36},"generated":{"line":1,"column":1834}},{"source":"gameState.js","original":{"line":114,"column":36},"generated":{"line":1,"column":1836}},{"source":"gameState.js","original":{"line":114,"column":36},"generated":{"line":1,"column":1853}},{"source":"gameState.js","name":"clock","original":{"line":114,"column":41},"generated":{"line":1,"column":1858}},{"source":"gameState.js","original":{"line":115,"column":11},"generated":{"line":1,"column":1866}},{"source":"gameState.js","original":{"line":115,"column":11},"generated":{"line":1,"column":1868}},{"source":"gameState.js","original":{"line":115,"column":11},"generated":{"line":1,"column":1870}},{"source":"gameState.js","original":{"line":115,"column":11},"generated":{"line":1,"column":1878}},{"source":"gameState.js","name":"timeToStartCelebrating","original":{"line":116,"column":9},"generated":{"line":1,"column":1888}},{"source":"gameState.js","name":"timeToStartCelebrating","original":{"line":116,"column":9},"generated":{"line":1,"column":1893}},{"source":"gameState.js","original":{"line":116,"column":34},"generated":{"line":1,"column":1916}},{"source":"gameState.js","name":"clock","original":{"line":116,"column":39},"generated":{"line":1,"column":1921}},{"source":"gameState.js","original":{"line":116,"column":47},"generated":{"line":1,"column":1927}},{"source":"gameState.js","name":"startCelebrating","original":{"line":118,"column":2},"generated":{"line":1,"column":1931}},{"source":"gameState.js","name":"current","original":{"line":119,"column":9},"generated":{"line":1,"column":1950}},{"source":"gameState.js","name":"current","original":{"line":119,"column":9},"generated":{"line":1,"column":1955}},{"source":"gameState.js","original":{"line":119,"column":19},"generated":{"line":1,"column":1963}},{"source":"gameState.js","original":{"line":120,"column":11},"generated":{"line":1,"column":1978}},{"source":"gameState.js","original":{"line":120,"column":11},"generated":{"line":1,"column":1980}},{"source":"gameState.js","original":{"line":120,"column":11},"generated":{"line":1,"column":1982}},{"source":"gameState.js","original":{"line":120,"column":11},"generated":{"line":1,"column":1990}},{"source":"gameState.js","name":"timeToStartCelebrating","original":{"line":121,"column":9},"generated":{"line":1,"column":2003}},{"source":"gameState.js","name":"timeToStartCelebrating","original":{"line":121,"column":9},"generated":{"line":1,"column":2008}},{"source":"gameState.js","original":{"line":121,"column":35},"generated":{"line":1,"column":2032}},{"source":"gameState.js","name":"timeToEndCelebrating","original":{"line":122,"column":9},"generated":{"line":1,"column":2034}},{"source":"gameState.js","name":"timeToEndCelebrating","original":{"line":122,"column":9},"generated":{"line":1,"column":2039}},{"source":"gameState.js","original":{"line":122,"column":32},"generated":{"line":1,"column":2060}},{"source":"gameState.js","name":"clock","original":{"line":122,"column":37},"generated":{"line":1,"column":2065}},{"source":"gameState.js","original":{"line":122,"column":45},"generated":{"line":1,"column":2071}},{"source":"gameState.js","name":"endCelebrating","original":{"line":124,"column":2},"generated":{"line":1,"column":2074}},{"source":"gameState.js","name":"timeToEndCelebrating","original":{"line":125,"column":9},"generated":{"line":1,"column":2091}},{"source":"gameState.js","name":"timeToEndCelebrating","original":{"line":125,"column":9},"generated":{"line":1,"column":2096}},{"source":"gameState.js","original":{"line":125,"column":33},"generated":{"line":1,"column":2118}},{"source":"gameState.js","name":"current","original":{"line":126,"column":9},"generated":{"line":1,"column":2120}},{"source":"gameState.js","name":"current","original":{"line":126,"column":9},"generated":{"line":1,"column":2125}},{"source":"gameState.js","original":{"line":126,"column":19},"generated":{"line":1,"column":2133}},{"source":"gameState.js","name":"determineFoxState","original":{"line":127,"column":9},"generated":{"line":1,"column":2142}},{"source":"gameState.js","name":"determineFoxState","original":{"line":127,"column":9},"generated":{"line":1,"column":2147}},{"source":"gameState.js","original":{"line":128,"column":18},"generated":{"line":1,"column":2168}},{"source":"gameState.js","original":{"line":128,"column":18},"generated":{"line":1,"column":2170}},{"source":"gameState.js","original":{"line":128,"column":18},"generated":{"line":1,"column":2172}},{"source":"gameState.js","original":{"line":128,"column":18},"generated":{"line":1,"column":2188}},{"source":"gameState.js","name":"determineFoxState","original":{"line":130,"column":2},"generated":{"line":1,"column":2192}},{"source":"gameState.js","original":{"line":131,"column":25},"generated":{"line":1,"column":2212}},{"source":"gameState.js","original":{"line":131,"column":8},"generated":{"line":1,"column":2223}},{"source":"gameState.js","name":"current","original":{"line":131,"column":13},"generated":{"line":1,"column":2228}},{"source":"gameState.js","original":{"line":132,"column":33},"generated":{"line":1,"column":2238}},{"source":"gameState.js","name":"SCENES","original":{"line":132,"column":10},"generated":{"line":1,"column":2247}},{"source":"gameState.js","original":{"line":132,"column":17},"generated":{"line":1,"column":2249}},{"source":"gameState.js","original":{"line":132,"column":17},"generated":{"line":1,"column":2256}},{"source":"gameState.js","name":"scene","original":{"line":132,"column":22},"generated":{"line":1,"column":2261}},{"source":"gameState.js","original":{"line":133,"column":15},"generated":{"line":1,"column":2269}},{"source":"gameState.js","original":{"line":133,"column":15},"generated":{"line":1,"column":2271}},{"source":"gameState.js","original":{"line":133,"column":15},"generated":{"line":1,"column":2273}},{"source":"gameState.js","original":{"line":133,"column":15},"generated":{"line":1,"column":2281}},{"source":"gameState.js","original":{"line":135,"column":15},"generated":{"line":1,"column":2290}},{"source":"gameState.js","original":{"line":135,"column":15},"generated":{"line":1,"column":2292}},{"source":"gameState.js","original":{"line":135,"column":15},"generated":{"line":1,"column":2294}},{"source":"gameState.js","original":{"line":135,"column":15},"generated":{"line":1,"column":2302}},{"source":"gameState.js","name":"clearTimes","original":{"line":139,"column":2},"generated":{"line":1,"column":2314}},{"source":"gameState.js","name":"wakeTime","original":{"line":140,"column":9},"generated":{"line":1,"column":2327}},{"source":"gameState.js","name":"wakeTime","original":{"line":140,"column":9},"generated":{"line":1,"column":2332}},{"source":"gameState.js","original":{"line":140,"column":21},"generated":{"line":1,"column":2342}},{"source":"gameState.js","name":"sleepTime","original":{"line":141,"column":9},"generated":{"line":1,"column":2344}},{"source":"gameState.js","name":"sleepTime","original":{"line":141,"column":9},"generated":{"line":1,"column":2349}},{"source":"gameState.js","original":{"line":141,"column":22},"generated":{"line":1,"column":2360}},{"source":"gameState.js","name":"hungryTime","original":{"line":142,"column":9},"generated":{"line":1,"column":2362}},{"source":"gameState.js","name":"hungryTime","original":{"line":142,"column":9},"generated":{"line":1,"column":2367}},{"source":"gameState.js","original":{"line":142,"column":23},"generated":{"line":1,"column":2379}},{"source":"gameState.js","name":"dieTime","original":{"line":143,"column":9},"generated":{"line":1,"column":2381}},{"source":"gameState.js","name":"dieTime","original":{"line":143,"column":9},"generated":{"line":1,"column":2386}},{"source":"gameState.js","original":{"line":143,"column":20},"generated":{"line":1,"column":2395}},{"source":"gameState.js","name":"poopTime","original":{"line":144,"column":9},"generated":{"line":1,"column":2397}},{"source":"gameState.js","name":"poopTime","original":{"line":144,"column":9},"generated":{"line":1,"column":2402}},{"source":"gameState.js","original":{"line":144,"column":21},"generated":{"line":1,"column":2412}},{"source":"gameState.js","name":"timeToStartCelebrating","original":{"line":145,"column":9},"generated":{"line":1,"column":2414}},{"source":"gameState.js","name":"timeToStartCelebrating","original":{"line":145,"column":9},"generated":{"line":1,"column":2419}},{"source":"gameState.js","original":{"line":145,"column":35},"generated":{"line":1,"column":2443}},{"source":"gameState.js","name":"timeToEndCelebrating","original":{"line":146,"column":9},"generated":{"line":1,"column":2445}},{"source":"gameState.js","name":"timeToEndCelebrating","original":{"line":146,"column":9},"generated":{"line":1,"column":2450}},{"source":"gameState.js","original":{"line":146,"column":33},"generated":{"line":1,"column":2472}},{"source":"gameState.js","name":"sleep","original":{"line":148,"column":2},"generated":{"line":1,"column":2475}},{"source":"gameState.js","name":"current","original":{"line":149,"column":9},"generated":{"line":1,"column":2483}},{"source":"gameState.js","name":"current","original":{"line":149,"column":9},"generated":{"line":1,"column":2488}},{"source":"gameState.js","original":{"line":149,"column":19},"generated":{"line":1,"column":2496}},{"source":"gameState.js","original":{"line":150,"column":11},"generated":{"line":1,"column":2505}},{"source":"gameState.js","original":{"line":150,"column":11},"generated":{"line":1,"column":2507}},{"source":"gameState.js","original":{"line":150,"column":11},"generated":{"line":1,"column":2509}},{"source":"gameState.js","original":{"line":150,"column":11},"generated":{"line":1,"column":2517}},{"source":"gameState.js","original":{"line":151,"column":13},"generated":{"line":1,"column":2527}},{"source":"gameState.js","original":{"line":151,"column":13},"generated":{"line":1,"column":2529}},{"source":"gameState.js","original":{"line":151,"column":13},"generated":{"line":1,"column":2531}},{"source":"gameState.js","original":{"line":151,"column":13},"generated":{"line":1,"column":2541}},{"source":"gameState.js","name":"clearTimes","original":{"line":152,"column":9},"generated":{"line":1,"column":2550}},{"source":"gameState.js","name":"clearTimes","original":{"line":152,"column":9},"generated":{"line":1,"column":2555}},{"source":"gameState.js","name":"wakeTime","original":{"line":153,"column":9},"generated":{"line":1,"column":2568}},{"source":"gameState.js","name":"wakeTime","original":{"line":153,"column":9},"generated":{"line":1,"column":2573}},{"source":"gameState.js","original":{"line":153,"column":20},"generated":{"line":1,"column":2582}},{"source":"gameState.js","name":"clock","original":{"line":153,"column":25},"generated":{"line":1,"column":2587}},{"source":"gameState.js","name":"NIGHT_LENGTH","original":{"line":153,"column":33},"generated":{"line":1,"column":2593}},{"source":"gameState.js","original":{"line":153,"column":4},"generated":{"line":1,"column":2595}},{"source":"gameState.js","name":"getHungry","original":{"line":155,"column":2},"generated":{"line":1,"column":2609}},{"source":"gameState.js","name":"current","original":{"line":156,"column":9},"generated":{"line":1,"column":2621}},{"source":"gameState.js","name":"current","original":{"line":156,"column":9},"generated":{"line":1,"column":2626}},{"source":"gameState.js","original":{"line":156,"column":19},"generated":{"line":1,"column":2634}},{"source":"gameState.js","name":"dieTime","original":{"line":157,"column":9},"generated":{"line":1,"column":2643}},{"source":"gameState.js","name":"dieTime","original":{"line":157,"column":9},"generated":{"line":1,"column":2648}},{"source":"gameState.js","original":{"line":157,"column":19},"generated":{"line":1,"column":2657}},{"source":"gameState.js","original":{"line":157,"column":34},"generated":{"line":1,"column":2659}},{"source":"gameState.js","original":{"line":157,"column":34},"generated":{"line":1,"column":2661}},{"source":"gameState.js","original":{"line":157,"column":34},"generated":{"line":1,"column":2677}},{"source":"gameState.js","name":"clock","original":{"line":157,"column":39},"generated":{"line":1,"column":2682}},{"source":"gameState.js","name":"hungryTime","original":{"line":158,"column":9},"generated":{"line":1,"column":2689}},{"source":"gameState.js","name":"hungryTime","original":{"line":158,"column":9},"generated":{"line":1,"column":2694}},{"source":"gameState.js","original":{"line":158,"column":23},"generated":{"line":1,"column":2706}},{"source":"gameState.js","original":{"line":159,"column":11},"generated":{"line":1,"column":2709}},{"source":"gameState.js","original":{"line":159,"column":11},"generated":{"line":1,"column":2711}},{"source":"gameState.js","original":{"line":159,"column":11},"generated":{"line":1,"column":2713}},{"source":"gameState.js","original":{"line":159,"column":11},"generated":{"line":1,"column":2721}},{"source":"gameState.js","name":"die","original":{"line":161,"column":2},"generated":{"line":1,"column":2732}},{"source":"gameState.js","name":"current","original":{"line":162,"column":9},"generated":{"line":1,"column":2738}},{"source":"gameState.js","name":"current","original":{"line":162,"column":9},"generated":{"line":1,"column":2743}},{"source":"gameState.js","original":{"line":162,"column":19},"generated":{"line":1,"column":2751}},{"source":"gameState.js","original":{"line":163,"column":13},"generated":{"line":1,"column":2759}},{"source":"gameState.js","original":{"line":163,"column":13},"generated":{"line":1,"column":2761}},{"source":"gameState.js","original":{"line":163,"column":13},"generated":{"line":1,"column":2763}},{"source":"gameState.js","original":{"line":163,"column":13},"generated":{"line":1,"column":2773}},{"source":"gameState.js","original":{"line":164,"column":11},"generated":{"line":1,"column":2782}},{"source":"gameState.js","original":{"line":164,"column":11},"generated":{"line":1,"column":2784}},{"source":"gameState.js","original":{"line":164,"column":11},"generated":{"line":1,"column":2786}},{"source":"gameState.js","original":{"line":164,"column":11},"generated":{"line":1,"column":2794}},{"source":"gameState.js","name":"clearTimes","original":{"line":165,"column":9},"generated":{"line":1,"column":2802}},{"source":"gameState.js","name":"clearTimes","original":{"line":165,"column":9},"generated":{"line":1,"column":2807}},{"source":"gameState.js","original":{"line":166,"column":15},"generated":{"line":1,"column":2821}},{"source":"gameState.js","original":{"line":166,"column":15},"generated":{"line":1,"column":2823}},{"source":"gameState.js","original":{"line":166,"column":15},"generated":{"line":1,"column":2825}},{"source":"gameState.js","original":{"line":166,"column":15},"generated":{"line":1,"column":2837}},{"source":"gameState.js","name":"handleUserAction","original":{"line":170,"column":13},"generated":{"line":1,"column":2899}},{"source":"gameState.js","name":"gameState","original":{"line":170,"column":32},"generated":{"line":1,"column":2901}},{"source":"gameState.js","name":"handleUserAction","original":{"line":170,"column":42},"generated":{"line":1,"column":2903}},{"source":"gameState.js","name":"bind","original":{"line":170,"column":59},"generated":{"line":1,"column":2920}},{"source":"gameState.js","name":"gameState","original":{"line":170,"column":64},"generated":{"line":1,"column":2925}},{"source":"gameState.js","name":"gameState","original":{"line":171,"column":15},"generated":{"line":1,"column":2928}},{"source":"gameState.js","name":"gameState","original":{"line":171,"column":15},"generated":{"line":1,"column":2936}},{"source":"gameState.js","name":"gameState","original":{"line":171,"column":15},"generated":{"line":1,"column":2953}},{"source":"gameState.js","name":"gameState","original":{"line":171,"column":15},"generated":{"line":1,"column":2955}},{"source":"gameState.js","name":"gameState","original":{"line":171,"column":15},"generated":{"line":1,"column":2959}},{"source":"gameState.js","name":"gameState","original":{"line":171,"column":15},"generated":{"line":1,"column":2961}},{"source":"gameState.js","name":"gameState","original":{"line":171,"column":15},"generated":{"line":1,"column":2963}},{"source":"gameState.js","name":"gameState","original":{"line":171,"column":15},"generated":{"line":1,"column":2971}},{"source":"gameState.js","name":"gameState","original":{"line":171,"column":15},"generated":{"line":1,"column":2979}}],"sources":{"gameState.js":"import {\n  SCENES,\n  RAIN_CHANCE,\n  DAY_LENGTH,\n  NIGHT_LENGTH,\n  getNextHungerTime,\n  getNextDieTime,\n  getNextPoopTime,\n} from \"./constants\";\nimport { modFox, modScene, togglePoopBag, writeModal } from \"./ui\";\n\nconst gameState = {\n  current: \"INIT\",\n  clock: 1,\n  wakeTime: -1,\n  sleepTime: -1,\n  hungryTime: -1,\n  dieTime: -1,\n  poopTime: -1,\n  timeToStartCelebrating: -1,\n  timeToEndCelebrating: -1,\n  scene: 0,\n  tick() {\n    this.clock++;\n    if (this.clock === this.wakeTime) {\n      this.wake();\n    } else if (this.clock === this.sleepTime) {\n      this.sleep();\n    } else if (this.clock === this.hungryTime) {\n      this.getHungry();\n    } else if (this.clock === this.timeToStartCelebrating) {\n      this.startCelebrating();\n    } else if (this.clock === this.timeToEndCelebrating) {\n      this.endCelebrating();\n    } else if (this.clock === this.poopTime) {\n      this.poop();\n    } else if (this.clock === this.dieTime) {\n      this.die();\n    }\n\n    return this.clock;\n  },\n  startGame() {\n    this.current = \"HATCHING\";\n    this.wakeTime = this.clock + 3;\n    modFox(\"egg\");\n    modScene(\"day\");\n    writeModal();\n  },\n  wake() {\n    this.current = \"IDLING\";\n    this.wakeTime = -1;\n    modFox(\"idling\");\n    this.scene = Math.random() > RAIN_CHANCE ? 0 : 1;\n    modScene(SCENES[this.scene]);\n    this.determineFoxState();\n    this.sleepTime = this.clock + DAY_LENGTH;\n    this.hungryTime = getNextHungerTime(this.clock);\n  },\n  handleUserAction(icon) {\n    // can't do actions while in these states\n    if (\n      [\"SLEEP\", \"FEEDING\", \"CELEBRATING\", \"HATCHING\"].includes(this.current)\n    ) {\n      // do nothing\n      return;\n    }\n\n    if (this.current === \"INIT\" || this.current === \"DEAD\") {\n      this.startGame();\n      return;\n    }\n\n    // execute the currently selected action\n    switch (icon) {\n      case \"weather\":\n        this.changeWeather();\n        break;\n      case \"poop\":\n        this.cleanUpPoop();\n        break;\n      case \"fish\":\n        this.feed();\n        break;\n    }\n  },\n  changeWeather() {\n    this.scene = (1 + this.scene) % SCENES.length;\n    modScene(SCENES[this.scene]);\n    this.determineFoxState();\n  },\n  cleanUpPoop() {\n    if (this.current === \"POOPING\") {\n      this.dieTime = -1;\n      togglePoopBag(true);\n      this.startCelebrating();\n      this.hungryTime = getNextHungerTime(this.clock);\n    }\n  },\n  poop() {\n    this.current = \"POOPING\";\n    this.poopTime = -1;\n    this.dieTime = getNextDieTime(this.clock);\n    modFox(\"pooping\");\n  },\n  feed() {\n    // can only feed when hungry\n    if (this.current !== \"HUNGRY\") {\n      return;\n    }\n\n    this.current = \"FEEDING\";\n    this.dieTime = -1;\n    this.poopTime = getNextPoopTime(this.clock);\n    modFox(\"eating\");\n    this.timeToStartCelebrating = this.clock + 2;\n  },\n  startCelebrating() {\n    this.current = \"CELEBRATING\";\n    modFox(\"celebrate\");\n    this.timeToStartCelebrating = -1;\n    this.timeToEndCelebrating = this.clock + 2;\n  },\n  endCelebrating() {\n    this.timeToEndCelebrating = -1;\n    this.current = \"IDLING\";\n    this.determineFoxState();\n    togglePoopBag(false);\n  },\n  determineFoxState() {\n    if (this.current === \"IDLING\") {\n      if (SCENES[this.scene] === \"rain\") {\n        modFox(\"rain\");\n      } else {\n        modFox(\"idling\");\n      }\n    }\n  },\n  clearTimes() {\n    this.wakeTime = -1;\n    this.sleepTime = -1;\n    this.hungryTime = -1;\n    this.dieTime = -1;\n    this.poopTime = -1;\n    this.timeToStartCelebrating = -1;\n    this.timeToEndCelebrating = -1;\n  },\n  sleep() {\n    this.current = \"SLEEP\";\n    modFox(\"sleep\");\n    modScene(\"night\");\n    this.clearTimes();\n    this.wakeTime = this.clock + NIGHT_LENGTH;\n  },\n  getHungry() {\n    this.current = \"HUNGRY\";\n    this.dieTime = getNextDieTime(this.clock);\n    this.hungryTime = -1;\n    modFox(\"hungry\");\n  },\n  die() {\n    this.current = \"DEAD\";\n    modScene(\"dead\");\n    modFox(\"dead\");\n    this.clearTimes();\n    writeModal(\"The fox died :( <br/> Press the middle button to restart\");\n  },\n};\n\nexport const handleUserAction = gameState.handleUserAction.bind(gameState);\nexport default gameState;\n"},"lineCount":null}},"error":null,"hash":"43787de753fb809fe1786761a598b462","cacheData":{"env":{}}}